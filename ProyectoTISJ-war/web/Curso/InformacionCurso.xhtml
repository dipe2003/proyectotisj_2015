<ui:composition template="../Views/index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="page_content">
        <div class="cabecera" >
            <div class="titulo" >
                Informacion del Curso #{informacionCurso.curso.asignaturaCurso.nombreAsignatura} del semestre #{informacionCurso.curso.semestreCurso} dicatado en el a√±o #{informacionCurso.curso.anioCurso}
            </div>
        </div>
        <Script>
            $(document).ready(function() {
                var datosDocente ={
                    labels: #{resultadoEncuesta.tituloPreguntasDocente},
                    datasets: [{
                            label: '#{resultadoEncuesta.encuestaSeleccionada.cursoEncuesta.asignaturaCurso.nombreAsignatura}',
                            fillColor: "rgba(183, 28, 28, 0.5)",
                            strokeColor: "rgba(183, 28, 28, 1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: #{resultadoEncuesta.promediosPreguntasDocente}
                        }]
                };
                var datosCurso ={
                    labels: #{resultadoEncuesta.tituloPreguntasCurso},
                    datasets: [{
                            label: '#{resultadoEncuesta.encuestaSeleccionada.cursoEncuesta.asignaturaCurso.nombreAsignatura}',
                            fillColor: "rgba(93, 64, 55, 0.5)",
                            strokeColor: "rgba(93, 64, 55, 1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: #{resultadoEncuesta.promediosPreguntasCurso}
                        }]
                };

                var opciones = {
                    animationSteps : 200,
                    bezierCurve: false,
                    datasetFill : true // colorea la serie de la grafica
                };                                
                    
                var ctxDoc = $("#resDoocente").get(0).getContext("2d");
                var ctxCurso = $("#resCurso").get(0).getContext("2d");
                var docenteChart = new Chart(ctxDoc).Line(datosDocente, opciones);
                var cursoChart = new Chart(ctxCurso).Line(datosCurso, opciones);

            });
        </Script>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Informacion Basica del Curso
                <h:panelGroup rendered="#{!empty resultadoEncuesta.mapResultadoCurso}">
                    <a href="../Curso/InformacionCurso.xhtml?id=#{informacionCurso.curso.idCurso}" class="SubmenuLink">
                        <div title="Informacion Detallada" class="optionItem" style="background-image: url(../Resources/Images/grafica.png)"></div>
                    </a>
                </h:panelGroup>
            </div>
            <h:panelGroup rendered="#{!empty resultadoEncuesta.mapResultadoCurso}">
                <div class="GraficaContainer" style="height: 200px" >
                    <canvas id="resCurso" style="width: 100%; height: 200px"></canvas>
                </div>
                <div class="GraficaContainer" style="font-size: 18px; text-shadow: none;" >
                    <table style="border: 1px silver;">
                        <c:forEach items="#{resultadoEncuesta.mapTextoPreguntasCurso.entrySet()}" var="label">                        
                            <tr>
                                <td>Pregunta #{label.key}</td>
                                <td>#{label.value}</td>
                            </tr>                        
                        </c:forEach>
                    </table>
                </div>
            </h:panelGroup>
        </div>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Docente del Curso 
                <h:panelGroup rendered="#{!empty resultadoEncuesta.mapResultadoDocente}">
                    <a href="../Curso/InformacionCurso.xhtml?id=#{informacionCurso.curso.idCurso}" class="SubmenuLink">
                        <div title="Informacion Detallada" class="optionItem" style="background-image: url(../Resources/Images/grafica.png)"></div>
                    </a>
                </h:panelGroup>
            </div>
            <div class="ListItemContainer" >
                <div class="item">
                    #{informacionCurso.docente.cedulaUsuario}
                </div>
                <div class="item">
                    #{informacionCurso.docente.nombreCompleto}
                </div>
                <div class="item">
                    #{informacionCurso.docente.correoUsuario}
                </div>
            </div>
            <h:panelGroup rendered="#{!empty resultadoEncuesta.mapResultadoDocente}">
                <div class="GraficaContainer" style="height: 200px" >
                    <canvas id="resDoocente" style="width: 100%; height: 200px"></canvas>
                </div>
                <div class="GraficaContainer" style="font-size: 18px; text-shadow: none;" >
                    <table style="border: 1px silver;">
                        <c:forEach items="#{resultadoEncuesta.mapTextoPreguntasDocente.entrySet()}" var="titulo">                        
                            <tr>
                                <td>Pregunta #{titulo.key}</td>
                                <td>#{titulo.value}</td>
                            </tr>                        
                        </c:forEach>
                    </table>
                </div>
            </h:panelGroup>
        </div>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Alumnos del Curso
            </div>
            <h:panelGroup rendered="#{empty informacionCurso.estudiantes}">
                <div class="ListItemContainer" >
                    Lista de Estudiantes Vacia
                </div>            
            </h:panelGroup>
            <c:forEach var="estudiante" items="#{informacionCurso.estudiantes}">
                <div class="ListItemContainer" >
                    <div class="item">
                        #{estudiante.cedulaUsuario}
                    </div>
                    <div class="item">
                        #{estudiante.nombreCompleto}
                    </div>
                    <div class="item">
                        #{estudiante.correoUsuario}
                    </div>
                    <a href="../Estudiante/InformacionEstudiante.xhtml?id=#{estudiante.idUsuario}" class="SubmenuLink">
                        <div title="Mas Informacion" class="optionItem" style="background-image: url(../Resources/Images/Info.png)"></div>
                    </a>
                </div>            
            </c:forEach>
        </div>
        
    </ui:define>
</ui:composition>
