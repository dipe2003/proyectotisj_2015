<ui:composition template="../Views/index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="page_content">
        <div class="cabecera" >
            <div class="titulo" >
                Informacion del Estudiantes 
            </div>
        </div>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Informacion Basica
            </div>
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Nombre: </div> #{informacionEstudiante.estudiante.nombreUsuario}
            </div>
            <div class="ListItemContainer InfoImagen" style="background-image: url(#{informacionEstudiante.estudiante.imagenUsuario}); background-size: cover;" ></div>
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Apellido: </div> #{informacionEstudiante.estudiante.apellidoUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Cedula: </div> #{informacionEstudiante.estudiante.cedulaUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Credencial: </div> #{informacionEstudiante.estudiante.credencialCivicaUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Departamento: </div> #{informacionEstudiante.estudiante.departamentoUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Localidad: </div> #{informacionEstudiante.estudiante.localidadUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Domicilo: </div>#{informacionEstudiante.estudiante.domicilioUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Telefono: </div> #{informacionEstudiante.estudiante.telefonoUsuario}
            </div>  
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Celular: </div> #{informacionEstudiante.estudiante.celularUsuario} 
            </div> 
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Fecha de Nacimiento: </div> #{informacionEstudiante.estudiante.fechaNacimientoUsuario} 
            </div> 
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Lugar de Nacimiento: </div>  #{informacionEstudiante.estudiante.lugarNacimientoUsuario}
            </div> 
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Estado Civil: </div> #{informacionEstudiante.estudiante.estadoCivilUsuario.estadoCivil} 
            </div> 
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Sexo: </div> #{informacionEstudiante.estudiante.sexoUsuario} 
            </div> 
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">Estudios Cursados: </div>#{informacionEstudiante.estudiosCursados}
            </div> 
            
            <div class="ListItemContainer" style="width: 300px; margin-top: -10px" >
                <a href="#openModal" style="text-decoration: none;">
                    <div class="negrita Texto" style="margin-left: 20px;  border: none">Ver Formulario de Inscripcion</div>
                </a>
            </div>
            
        </div>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Cursos del Alumno
            </div>
            <h:panelGroup rendered="#{empty informacionEstudiante.cursos}">
                <div class="ListItemContainer" >
                    El Alumno no tiene cursos
                </div>            
            </h:panelGroup>
            <c:forEach var="curso" items="#{informacionEstudiante.cursos}">
                <div class="ListItemContainer" >
                    <div class="item" style="width: 15%">
                        #{curso.anioCurso}
                    </div>
                    <div class="item" style="width: 20%">
                        #{curso.semestreCurso}° Semestre
                    </div> 
                    <div class="item" style="width: 55%">
                        #{curso.asignaturaCurso.nombreAsignatura}
                    </div>
                    <h:panelGroup rendered="#{!(login.rolSeleccionado == 'Estudiante')}">
                    <a href="../Curso/InformacionCurso.xhtml?id=#{curso.idCurso}" class="SubmenuLink">
                        <div title="Mas Informacion" class="optionItem" style="background-image: url(../Resources/Images/Info.png)"></div>
                    </a>
                    </h:panelGroup>
                </div>            
            </c:forEach>
        </div>
        
        <div id="openModal" class="modalDialog">
            <div style="width: 1000px;">
                <a href="#close" title="Close" class="close">X</a>
                <h2> Formulario de Inscripcion</h2>
                
                <!--para cambiar por formulario de inscripcion-->
                <div style="width: 1000px; height: 1000px; background-image: url(#{informacionEstudiante.estudiante.formInscripcion}); background-size: cover;"></div>
                
            </div>
        </div>
        
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Historial de Calificaciones
            </div>
            <div class="ListItemContainer" >
                <div class="negrita" style="margin-left: 20px">
                    <div class="item" style="width: 15%">
                        Referencias:  
                    </div>
                    <div class="item" style="width: 15%">
                        <div class="cuadrado" style="background-color: rgba(33, 150, 243, 1)" ></div> Parciales
                    </div>
                    <div class="item" style="width: 15%">
                        <div class="cuadrado" style="background-color: rgba(0, 150, 136, 1)" ></div> Examenes
                    </div>
                    <div class="item" style="width: 40%">
                        <div class="cuadrado" style="background-color: rgba(63, 81, 181, 1)" ></div> Laboratorios ( Aprueba: 50 - Reprueba: 10 - No Entrega: 5 )
                    </div>
                </div>
            </div>
            <c:forEach begin="1" end="6" var="status">
                <Script>
                    var titulos#{status} = new Array(); 
                    var Parciales#{status} = new Array(); 
                    var Examenes#{status} = new Array(); 
                    var Laboratorios#{status} = new Array(); 
                </Script>
                <c:forEach var="resultadoCurso" items="#{informacionEstudiante.resultadosCursos}">
                    <c:if test="#{resultadoCurso.semestre==status}">
                        <Script>  
                            titulos#{status}.push("#{resultadoCurso.curso}(#{resultadoCurso.anio})"); 
                            Parciales#{status}.push("#{resultadoCurso.resultadoParcial}");
                            Examenes#{status}.push("#{resultadoCurso.resultadoExamen}");
                            Laboratorios#{status}.push("#{resultadoCurso.resultadoLaboratorio}");
                        </Script>
                    </c:if>
                </c:forEach>
                <Script>
                    $(document).ready(function() {
                        var data#{status} = {
                            labels: titulos#{status},
                            datasets: [
                                {
                                    label: "My First dataset",
                                    fillColor: "rgba(33, 150, 243, 0.5)",
                                    strokeColor: "rgba(33, 150, 243, 0.8)",
                                    highlightFill: "rgba(33, 150, 243, 0.75)",
                                    highlightStroke: "rgba(33, 150, 243, 1)",
                                    data: Parciales#{status}
                                },
                                {
                                    label: "My Second dataset",
                                    fillColor: "rgba(0, 150, 136, 0.5)",
                                    strokeColor: "rgba(0, 150, 136, 0.8)",
                                    highlightFill: "rgba(0, 150, 136, 0.75)",
                                    highlightStroke: "rgba(0, 150, 136, 1)",
                                    data: Examenes#{status}
                                },
                                {
                                    label: "My Second dataset",
                                    fillColor: "rgba(63, 81, 181, 0.5)",
                                    strokeColor: "rgba(63, 81, 181, 0.8)",
                                    highlightFill: "rgba(63, 81, 181, 0.75)",
                                    highlightStroke: "rgba(63, 81, 181, 1)",
                                    data: Laboratorios#{status}
                                }
                            ]
                        };  
                        var ctx#{status} = $("#semestre_#{status}").get(0).getContext("2d");
                        var SemestreChart#{status} = new Chart(ctx#{status}).Bar(data#{status});
                        if (titulos#{status}.length === 0){$("#Grafica_#{status}").hide();}
                    });
                </Script>
                
                <div class="ListItemContainer" >
                    <div class="negrita" style="margin-left: 20px">#{status}° Semestre</div>
                </div> 
                <div id="Grafica_#{status}" class="GraficaContainer" style="height: 200px">
                    <canvas id="semestre_#{status}" style="width: 100%; height: 200px"></canvas> 
                </div>
            </c:forEach>
        </div>
        
        <div id="contenedor">
            <div class="ListItemContainer ListItemClick" style="text-align: center" >
                Historial de Inasistencias
            </div>
            <c:forEach begin="1" end="6" var="statusI">
                <Script> var titulosI#{statusI} = new Array(); var inasistencias#{statusI} = new Array(); </Script>
                <c:forEach var="resultadoCursoI" items="#{informacionEstudiante.resultadosCursos}">
                    <c:if test="#{resultadoCursoI.semestre==statusI}">
                        <Script> titulosI#{statusI}.push("#{resultadoCursoI.curso}"); inasistencias#{statusI}.push("#{resultadoCursoI.inasistencias}"); </Script>
                    </c:if>
                </c:forEach>
                <Script>
                    $(document).ready(function() {
                        var dataI#{statusI} = {
                            labels: titulos#{statusI},
                            datasets: [
                                {
                                    label: "My First dataset",
                                    fillColor: "rgba(96, 125, 139, 0.5)",
                                    strokeColor: "rgba(96, 125, 139, 0.8)",
                                    highlightFill: "rgba(96, 125, 139, 0.75)",
                                    highlightStroke: "rgba(96, 125, 139, 1)",
                                    data: inasistencias#{statusI}
                                }
                            ]
                        };  
                        var ctxI#{statusI} = $("#semestreI_#{statusI}").get(0).getContext("2d");
                        var SemestreChartI#{statusI} = new Chart(ctxI#{statusI}).Bar(dataI#{statusI});
                        if (titulos#{statusI}.length === 0){$("#GraficaI_#{statusI}").hide();}
                    });
                </Script>
                
                <div class="ListItemContainer" >
                    <div class="negrita" style="margin-left: 20px">#{statusI}° Semestre</div>
                </div> 
                <div id="GraficaI_#{statusI}" class="GraficaContainer" style="height: 200px">
                    <canvas id="semestreI_#{statusI}" style="width: 100%; height: 200px"></canvas> 
                </div>
            </c:forEach>
        </div>
        
        
    </ui:define>
</ui:composition>
